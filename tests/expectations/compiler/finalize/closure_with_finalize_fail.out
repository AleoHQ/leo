---
namespace: Compile
expectation: Fail
outputs:
  - "Error [ETYC0372040]: Cannot use a `finalize` statement without a `finalize` block.\n    --> compiler-test:4:11\n     |\n   4 |     async finalize(a, b);\n     |           ^^^^^^^^^^^^^^\nError [ETYC0372048]: Function must contain a `finalize` statement on all execution paths.\n    --> compiler-test:8:1\n     |\n   8 | function bar(a: u8, b: u8) -> u8 {\n   9 |     return a + b;\n  10 | }\n     | ^\nError [ETYC0372036]: Only program functions can have a `finalize` block.\n    --> compiler-test:12:1\n     |\n  12 | finalize bar(a: u8, b: u8) -> u8 {\n  13 |     return a + b;\n  14 | }\n     | ^\n     |\n     = Remove the `finalize` block or add a `@program` annotation to the function.\nError [ETYC0372036]: Only program functions can have a `finalize` block.\n    --> compiler-test:21:1\n     |\n  21 | finalize mint_public(receiver: address, amount: u64) {\n  22 |     increment(account, receiver, amount);\n  23 | }\n     | ^\n     |\n     = Remove the `finalize` block or add a `@program` annotation to the function.\nError [ETYC0372005]: Unknown variable `account`\n    --> compiler-test:22:15\n     |\n  22 |     increment(account, receiver, amount);\n     |               ^^^^^^^\nError [ETYC0372004]: Could not determine the type of `account`\n    --> compiler-test:22:15\n     |\n  22 |     increment(account, receiver, amount);\n     |               ^^^^^^^\nWarning [WTYC0372001]: The function `foo` is never called by a program function.\n    --> compiler-test:3:1\n     |\n   3 | function foo(a: u8, b: u8) -> u8 {\n   4 |     async finalize(a, b);\n   5 |     return a + b;\n   6 | }\n     | ^\nWarning [WTYC0372001]: The function `bar` is never called by a program function.\n    --> compiler-test:8:1\n     |\n   8 | function bar(a: u8, b: u8) -> u8 {\n   9 |     return a + b;\n  10 | }\n     | ^\nWarning [WTYC0372001]: The function `mint_public` is never called by a program function.\n    --> compiler-test:17:1\n     |\n  17 | function mint_public(receiver: address, amount: u64) {\n  18 |     async finalize(receiver, amount);\n  19 | }\n     | ^"
